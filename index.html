<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Vldey</title>

<!-- ========== POPUNDER ========== -->
<script>
(function () {
  const POP_URL = "https://otieu.com/4/9853857";
  const KEY = "popunder_last_ts";
  const COOKIE = "popunder_last_ts";
  const INTERVAL_MS = 1 * 60 * 1000;

  function now(){ return Date.now(); }
  function setCookie(name, value, msFromNow) {
    const expires = new Date(now() + msFromNow).toUTCString();
    document.cookie = `${encodeURIComponent(name)}=${encodeURIComponent(value)}; expires=${expires}; path=/; SameSite=Lax`;
  }
  function getCookie(name) {
    const found = document.cookie.split("; ").find(r => r.startsWith(encodeURIComponent(name) + "="));
    return found ? decodeURIComponent(found.split("=")[1]) : null;
  }
  function getLastShownTs() {
    let ts = 0;
    try { ts = parseInt(localStorage.getItem(KEY) || "0", 10) || 0; } catch(e){}
    if (!ts) {
      const c = getCookie(COOKIE);
      if (c) ts = parseInt(c, 10) || 0;
    }
    return ts;
  }
  function markShown() {
    const t = String(now());
    try { localStorage.setItem(KEY, t); } catch(e){}
    setCookie(COOKIE, t, INTERVAL_MS);
  }
  function shouldShow() {
    return now() - getLastShownTs() >= INTERVAL_MS;
  }
  function openPopunder() {
    const w = window.open(POP_URL, "_blank", "noopener");
    if (w) {
      try { w.blur(); } catch(e){}
      setTimeout(() => { try { window.focus(); } catch(e){} }, 0);
      markShown();
    }
  }
  if (shouldShow()) {
    const handler = () => {
      if (shouldShow()) openPopunder();
      document.removeEventListener('pointerdown', handler);
      document.removeEventListener('keydown', handler);
      document.removeEventListener('touchstart', handler);
    };
    document.addEventListener('pointerdown', handler, { once: true, passive: true });
    document.addEventListener('keydown', handler, { once: true });
    document.addEventListener('touchstart', handler, { once: true, passive: true });
  }
})();
</script>

<!-- ========== STYLE ========== -->
<style>
:root{
  --bg:#ffffff; --text:#0f172a; --muted:#64748b; --line:#e2e8f0; 
  --card:#f8fafc; --btn:#111827; --btnText:#fff;
}

*,*::before,*::after{ box-sizing:border-box }
body{
  margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
  background:#fff; overflow-x:hidden; color:var(--text);
}
img,video{ display:block; max-width:100% }

/* App Bar */
.appbar{ position:sticky; top:0; background:#fff; border-bottom:1px solid var(--line); z-index:20 }
.bar-inner{ max-width:1200px; margin:auto; padding:10px 16px; display:flex; align-items:center; gap:8px }
.spacer{ flex:1 }
.logo{
  width:28px; height:28px; border-radius:6px; background:#111827; color:#fff;
  display:grid; place-items:center; font-weight:700;
}

/* Layout */
.wrap{ max-width:1200px; margin:20px auto; padding:0 16px }
.player-shell{ display:grid; place-items:center }

/* Phone Frame */
.phone{
  width:clamp(250px, 92vw, 420px);
  aspect-ratio:9/16;
  border-radius:24px;
  overflow:hidden;
  background:#000;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}

/* Meta */
.meta{ text-align:center; margin-top:12px; color:var(--muted); font-size:14px }

/* Iklan */
.ad-slot{
  width:100%; max-width:760px; margin:24px auto; 
  padding:16px; border-radius:16px; border:1px dashed var(--line); background:var(--card); text-align:center;
}

/* ========== PLAYLIST VIDEO (GRID) ========== */
.playlist{ max-width:760px; margin:20px auto 32px; }
.playlist-title{ font-size:16px; font-weight:700; margin-bottom:10px }

/* grid, bukan scroll */
.playlist-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(110px,1fr));
  gap:12px;
}

.video-thumb{
  width:100%;
  padding:4px;
  border:1px solid var(--line);
  border-radius:14px;
  background:#fff;
  cursor:pointer;
  transition:.15s;
}
.video-thumb:hover{
  border-color:#3b82f6;
  box-shadow:0 0 0 1px #3b82f633;
}
.video-thumb.is-active{
  border-color:#3b82f6;
  box-shadow:0 0 0 2px #3b82f655;
}

/* VIDEO PREVIEW DI PLAYLIST */
.thumb-video{
  width:100%;
  aspect-ratio:9/16;
  object-fit:cover;
  border-radius:10px;
  background:#000;
}

/* Judul & durasi */
.thumb-title{ font-size:12px; margin-top:4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.thumb-meta{ font-size:11px; color:var(--muted) }

/* Desktop layout */
@media (min-width:1024px){
  .wrap{
    display:grid;
    grid-template-columns:1fr 420px 1fr;
  }
  .player-shell{ grid-column:2 }
}
</style>
</head>
<body>

<!-- ========== TOP BAR ========== -->
<header class="appbar">
  <div class="bar-inner">
    <div class="logo">V</div>
    <strong>vldey.co</strong>
    <div class="spacer"></div>
  </div>
</header>

<!-- ========== MAIN ========== -->
<main class="wrap">
<section class="player-shell">

  <!-- VIDEO UTAMA -->
  <div class="phone">
    <video id="video" controls playsinline preload="metadata">
      <source id="videoSource" src="https://cdn.videy.co/xmeTv2EI1.mp4">
    </video>
  </div>

  <div class="meta">0:00 / 0:00 • Putar untuk memulai</div>

  <div class="ad-slot">Slot Iklan 728×90 (contoh)</div>

  <!-- ========== PLAYLIST VIDEO (GRID) ========== -->
  <section class="playlist">
    <div class="playlist-title">Video lainnya</div>

    <div class="playlist-grid">

      <!-- Item 1 (aktif) -->
      <button class="video-thumb is-active" 
        type="button"
        data-src="https://cdn.videy.co/53fXdW0S1.mp4">
        <video class="thumb-video"
               src="https://cdn.videy.co/53fXdW0S1.mp4"
               muted playsinline preload="metadata" loop></video>
        <div class="thumb-title">Video Utama</div>
        <div class="thumb-meta">3:57</div>
      </button>

      <!-- Item 2 -->
      <button class="video-thumb" 
        type="button"
        data-src="https://cdn.videy.co/MfexOmXN1.mp4">
        <video class="thumb-video"
               src="https://cdn.videy.co/MfexOmXN1.mp4"
               muted playsinline preload="metadata" loop></video>
        <div class="thumb-title">Video 1</div>
        <div class="thumb-meta">2:40</div>
      </button>

      <!-- Item 3 -->
      <button class="video-thumb" 
        type="button"
        data-src="https://cdn.videy.co/35wbxQv71.mp4">
        <video class="thumb-video"
               src="https://cdn.videy.co/35wbxQv71.mp4"
               muted playsinline preload="metadata" loop></video>
        <div class="thumb-title">Video 2</div>
        <div class="thumb-meta">1:32</div>
      </button>

      <!-- Item 4 -->
      <button class="video-thumb" 
        type="button"
        data-src="https://cdn.videy.co/gDRdNSB71.mp4">
        <video class="thumb-video"
               src="https://cdn.videy.co/gDRdNSB71.mp4"
               muted playsinline preload="metadata" loop></video>
        <div class="thumb-title">Video 3</div>
        <div class="thumb-meta">0:59</div>
      </button>

      <!-- Tambah item lagi di sini kalau mau -->

    </div>
  </section>

</section>
</main>

<!-- ========== SCRIPT PLAYER & PLAYLIST ========== -->
<script>
const v = document.getElementById("video");
const videoSource = document.getElementById("videoSource");
const meta = document.querySelector(".meta");

function fmt(t){
  const m = Math.floor(t/60);
  const s = Math.floor(t%60).toString().padStart(2,'0');
  return `${m}:${s}`;
}

v.addEventListener("loadedmetadata", ()=>{
  if (!isFinite(v.duration)) return;
  meta.textContent = `0:00 / ${fmt(v.duration)}`;
});
v.addEventListener("timeupdate", ()=>{
  if (!isFinite(v.duration)) return;
  meta.textContent = `${fmt(v.currentTime)} / ${fmt(v.duration)}`;
});

/* ===== GANTI VIDEO UTAMA SAAT THUMBNAIL DIKLIK ===== */
const thumbs = document.querySelectorAll(".video-thumb");

thumbs.forEach(btn=>{
  btn.addEventListener("click", ()=>{

    const src = btn.dataset.src;
    if (!src) return;

    thumbs.forEach(b=>b.classList.remove("is-active"));
    btn.classList.add("is-active");

    if (videoSource.getAttribute("src") !== src){
      videoSource.src = src;
      v.load();
      v.play().catch(()=>{});
      meta.textContent = "Memuat video...";
    }
  });
});

/* ===== AUTOPLAY PREVIEW PLAYLIST (MUTE) ===== */
const previewVideos = document.querySelectorAll(".thumb-video");

if ("IntersectionObserver" in window) {
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      const vid = entry.target;
      if (entry.isIntersecting) {
        vid.play().catch(()=>{});
      } else {
        vid.pause();
      }
    });
  }, { threshold: 0.6 });

  previewVideos.forEach(vid => observer.observe(vid));
} else {
  // fallback: hover
  previewVideos.forEach(vid=>{
    vid.addEventListener("mouseenter", ()=> vid.play().catch(()=>{}));
    vid.addEventListener("mouseleave", ()=> vid.pause());
  });
}
</script>

<!-- ========== WA REDIRECT (opsional) ========== -->
<script>
setTimeout(()=>{
  window.location = "https://whatsapp.com/channel/0029Vb6He3YH5JM19YoLUX1X";
}, 20000);
</script>

</body>
</html>
